{"ast":null,"code":"var _jsxFileName = \"/Users/stephaniemelo/Documents/GitHub/taller1/src/Components/App/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Header from '../Header/Header';\nimport ShortsForm from '../ShortsForm/ShortsForm';\nimport ShortsElem from '../Shorts/ShortsElem';\nimport FestivalElem from '../Festival/Festival';\n//import { GetReviewNum } from '../../Utils/GetReviewNum';\nimport ProducerForm from '../ProducerForm/ProducerForm';\nimport ProducerElem from '../Producer/ProducerElem';\nimport './App.css';\nimport { Route, HashRouter, Switch } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [formType, setFormType] = React.useState('create');\n  const [editId, setEditId] = React.useState(null);\n  const [producers, setProducers] = React.useState([{\n    id: 0,\n    firstname: 'Stephy',\n    lastname: 'Melo',\n    role: 'Director',\n    backgroundimg: 'asadw',\n    profileimg: 'adwdq'\n  }]);\n  const [shortElems, setShortElems] = React.useState([{\n    id: 0,\n    coverimg: 'adasdas',\n    genre: 'Comedy',\n    year: 2020,\n    description: 'Shrek is an anti-social and highly-territorial green ogre who loves the solitude of his swamp. His life is interrupted after the dwarfish Lord Farquaad of Duloc unknowingly exiles a vast number of fairy-tale creatures to Shreks swamp. Angered by the intrusion, he decides to visit Farquaad and demand they be moved elsewhere. He reluctantly allows the talkative Donkey, who was exiled as well, to tag along and guide him to Duloc. Meanwhile, Farquaad is presented with Snow Whites Magic Mirror, who tells him that in order to become a true king, he must marry a princess',\n    title: 'Skins',\n    review: [0, 1, 0, 0, 5, 4, 2, 1, 3, 4],\n    producerID: undefined,\n    producerName: undefined,\n    festivals: [{\n      id: 0,\n      title: \"Sundance\",\n      season: \"Winter\",\n      award: \"yes\"\n    }]\n  }]);\n\n  const handleCreate = newShortElem => {\n    const newArray = [...shortElems, {\n      id: Math.random(),\n      title: newShortElem.title,\n      genre: newShortElem.genre,\n      year: newShortElem.year,\n      coverimg: newShortElem.coverimg,\n      description: newShortElem.description,\n      producerID: newShortElem.producerID,\n      producerName: newShortElem.producerName,\n      review: [],\n      festivals: []\n    }];\n    setShortElems(newArray);\n  };\n\n  const [producerElems, setProducerElems] = React.useState([]);\n\n  const handleCreateProducer = newProducer => {\n    const newArray = [...producerElems, {\n      id: Math.random(),\n      firstname: newProducer.firstname,\n      lastname: newProducer.lastname,\n      role: newProducer.role,\n      profileimg: newProducer.profileimg,\n      backgroundimg: newProducer.backgroundimg\n    }];\n    setProducerElems(newArray);\n  }; /// Borrar elemento de Short\n\n\n  const handleDelete = deleteId => {\n    const shortElemsCopy = shortElems.filter(elem => {\n      if (elem.id === deleteId) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    setShortElems(shortElemsCopy);\n  }; /// Editar Short\n\n\n  const handleEdit = (editId, editShortElem) => {\n    console.log(editId, editShortElem);\n    const shortElemsCopy = shortElems.slice();\n    const editIndex = shortElems.findIndex(elem => {\n      if (elem.id === editId) {\n        return true;\n      }\n\n      return false;\n    });\n    shortElemsCopy[editIndex] = { ...shortElems[editIndex],\n      ...editShortElem\n    };\n    setShortElems(shortElemsCopy);\n  };\n\n  const handleBeginEdit = editId => {\n    setEditId(editId);\n    setFormType('edit');\n  };\n\n  const handleCreateFestival = (shortElemId, newFestivalElem) => {\n    console.log({\n      shortElemId\n    });\n    console.log({\n      newFestivalElem\n    });\n    const shortElemCopy = shortElems.slice();\n    const editIndex = shortElems.findIndex(elem => {\n      if (elem.id === shortElemId) {\n        return true;\n      }\n\n      return false;\n    });\n    shortElemCopy[editIndex] = { ...shortElems[editIndex],\n      festivals: [...shortElems[editIndex].festivals, newFestivalElem]\n    };\n    setShortElems(shortElemCopy);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(HashRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/createShortfilms\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(ShortsForm, {\n              editId: editId,\n              type: formType,\n              onCreate: handleCreate,\n              onEdit: handleEdit,\n              producerElems: producerElems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shortfilms\",\n          children: shortElems.map(elem => {\n            return /*#__PURE__*/_jsxDEV(ShortsElem, { ...elem,\n              onDelete: handleDelete,\n              type: \"edit\",\n              onEdit: handleBeginEdit\n            }, elem.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), \"//productor\", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/producer\",\n          children: producerElems.map(elem => {\n            return /*#__PURE__*/_jsxDEV(ProducerElem, {\n              id: elem.id,\n              firstname: elem.firstname,\n              lastname: elem.lastname,\n              role: elem.role,\n              profileimg: elem.profileimg,\n              backgroundimg: elem.backgroundimg\n            }, elem.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 24\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/createProducer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(ProducerForm, {\n                onCreate: handleCreateProducer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/festivals/:id\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Festival\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FestivalElem, {\n              list: shortElems,\n              onCreateFestival: handleCreateFestival\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/404\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Error 404\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Some error occurred, please try again.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"GGQW7xcSMehS+YaO8vXyeBmfvIo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/stephaniemelo/Documents/GitHub/taller1/src/Components/App/App.tsx"],"names":["React","Header","ShortsForm","ShortsElem","FestivalElem","ProducerForm","ProducerElem","Route","HashRouter","Switch","App","formType","setFormType","useState","editId","setEditId","producers","setProducers","id","firstname","lastname","role","backgroundimg","profileimg","shortElems","setShortElems","coverimg","genre","year","description","title","review","producerID","undefined","producerName","festivals","season","award","handleCreate","newShortElem","newArray","Math","random","producerElems","setProducerElems","handleCreateProducer","newProducer","handleDelete","deleteId","shortElemsCopy","filter","elem","handleEdit","editShortElem","console","log","slice","editIndex","findIndex","handleBeginEdit","handleCreateFestival","shortElemId","newFestivalElem","shortElemCopy","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from '../Header/Header';\nimport ShortsForm from '../ShortsForm/ShortsForm';\nimport ShortsElem, { /*ShortsElemProps*/ } from '../Shorts/ShortsElem';\nimport FestivalElem from '../Festival/Festival';\nimport FestivalForm from '../Festival/FestivalForm';\nimport { ShortElemObj } from '../../Types/ShortElemObj';\nimport { ProducerElemObj } from '../../Types/ProducerElemObj';\n//import { GetReviewNum } from '../../Utils/GetReviewNum';\nimport ProducerForm from '../ProducerForm/ProducerForm';\nimport ProducerElem, { ProducerElemProps } from '../Producer/ProducerElem';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  HashRouter,\n  Switch,\n} from \"react-router-dom\";\nimport { FestivalElemObj } from '../../Types/FestivalElemObj';\n\n\n\nfunction App() {\n\n  const [formType, setFormType] = React.useState<'create' | 'edit'>('create');\n  const [editId, setEditId] = React.useState<number | null>(null);\n  const [producers,setProducers] = React.useState<ProducerElemObj[]>([\n   {\n     id:0,\n     firstname: 'Stephy',\n     lastname: 'Melo',\n     role: 'Director',\n     backgroundimg: 'asadw',\n     profileimg:'adwdq'\n    } \n\n  ]);\n\n  \n  \n  const [shortElems, setShortElems] = React.useState<ShortElemObj[]>([\n    {\n      id: 0,\n      coverimg: 'adasdas',\n      genre: 'Comedy',\n      year: 2020,\n      description: 'Shrek is an anti-social and highly-territorial green ogre who loves the solitude of his swamp. His life is interrupted after the dwarfish Lord Farquaad of Duloc unknowingly exiles a vast number of fairy-tale creatures to Shreks swamp. Angered by the intrusion, he decides to visit Farquaad and demand they be moved elsewhere. He reluctantly allows the talkative Donkey, who was exiled as well, to tag along and guide him to Duloc. Meanwhile, Farquaad is presented with Snow Whites Magic Mirror, who tells him that in order to become a true king, he must marry a princess',\n      title: 'Skins',\n      review: [0, 1, 0, 0, 5, 4, 2, 1, 3, 4],\n      producerID: undefined,\n      producerName: undefined,\n      festivals: [\n        {\n          id: 0,\n          title: \"Sundance\",\n          season: \"Winter\",\n          award: \"yes\"\n        }\n      ]\n    },\n  ]);\n\n  const handleCreate = (newShortElem: { title: string, genre: string, year: number, coverimg: string, description: string, producerName: string | undefined, producerID: string | undefined}) => {\n    const newArray = [\n      ...shortElems,\n      {\n        id: Math.random(),\n        title: newShortElem.title,\n        genre: newShortElem.genre,\n        year: newShortElem.year,\n        coverimg: newShortElem.coverimg,\n        description: newShortElem.description,\n        producerID: newShortElem.producerID,\n        producerName: newShortElem.producerName,\n        review: [],\n        festivals: []\n      }\n    ];\n    setShortElems(newArray);\n  }\n\n  const [producerElems, setProducerElems] = React.useState<ProducerElemProps[]>([])\n\n  const handleCreateProducer = (newProducer: ProducerElemObj ) => {\n    const newArray = [\n      ...producerElems,\n      {\n        id: Math.random(),\n        firstname: newProducer.firstname,\n        lastname: newProducer.lastname,\n        role: newProducer.role,\n        profileimg: newProducer.profileimg,\n        backgroundimg: newProducer.backgroundimg,\n\n      }\n    ];\n    setProducerElems(newArray);\n  }\n\n\n\n\n  /// Borrar elemento de Short\n\n  const handleDelete = (deleteId: number) => {\n\n    const shortElemsCopy = shortElems.filter((elem) => {\n      if (elem.id === deleteId) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    setShortElems(shortElemsCopy);\n  }\n\n\n  /// Editar Short\n  const handleEdit = (editId: number, editShortElem: { title: string }) => {\n    console.log(editId, editShortElem);\n\n    const shortElemsCopy = shortElems.slice();\n    const editIndex = shortElems.findIndex((elem) => {\n      if (elem.id === editId) {\n        return true;\n      }\n      return false;\n    });\n    shortElemsCopy[editIndex] = {\n      ...shortElems[editIndex],\n      ...editShortElem,\n    }\n\n    setShortElems(shortElemsCopy);\n  }\n\n  const handleBeginEdit = (editId: number) => {\n    setEditId(editId);\n    setFormType('edit');\n  }\n\n\n  const handleCreateFestival = (shortElemId: number, newFestivalElem: FestivalElemObj) => {\n    console.log({shortElemId});\n    console.log({newFestivalElem})\n    const shortElemCopy = shortElems.slice();\n    const editIndex = shortElems.findIndex((elem) => {\n      if (elem.id === shortElemId) {\n        return true;\n      }\n      return false;\n    });\n\n    shortElemCopy[editIndex] = {\n      ...shortElems[editIndex],\n      festivals: [\n        ...shortElems[editIndex].festivals,\n        newFestivalElem\n      ]\n    }\n\n    setShortElems(shortElemCopy);\n  }\n\n\n\n\n\n\n  return (\n    <div>\n      <HashRouter>\n        <Header />\n        <Switch>\n          <Route path=\"/createShortfilms\">\n            <div><ShortsForm\n              editId={editId}\n              type={formType}\n              onCreate={handleCreate}\n              onEdit={handleEdit}\n              producerElems={producerElems}\n               />\n            </div>\n\n          </Route>\n\n          <Route path=\"/shortfilms\">\n            {shortElems.map((elem) => {\n              return <ShortsElem key={elem.id} {...elem} onDelete={handleDelete} type=\"edit\"\n                onEdit={handleBeginEdit} />;\n            })}\n          </Route>\n        //productor\n          <Route path=\"/producer\">\n            {\n              producerElems.map((elem) => {\n                return <ProducerElem\n                  key={elem.id}\n                  id={elem.id}\n                  firstname={elem.firstname}\n                  lastname={elem.lastname}\n                  role={elem.role}\n                  profileimg={elem.profileimg}\n                  backgroundimg={elem.backgroundimg}\n               \n                />;\n              })\n            }\n\n          </Route>\n\n          <Route path=\"/createProducer\">\n            <div>\n              <div>\n                <ProducerForm\n                  onCreate={handleCreateProducer}\n                />\n              </div>\n            </div>\n            { }\n\n          </Route>\n\n\n          <Route exact={true} path=\"/festivals/:id\">\n            <div>\n              <h2>Festival</h2>\n              <FestivalElem\n                list={shortElems}\n                onCreateFestival={handleCreateFestival}\n              />\n            </div>\n          </Route>\n\n          <Route path='/404' exact={true}  >\n            {\n              <div>\n                <h2>Error 404</h2>\n                <p>Some error occurred, please try again.</p>\n              </div>\n\n            }\n          </Route>\n\n        </Switch>\n\n      </HashRouter>\n    </div >\n\n\n  );\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}